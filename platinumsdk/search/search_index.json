{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Platinum SDK Simple Geometry Dash modding SDK for Android Example mod This example overwrites the response of the More Games button on the main menu to a dialog box with the text \"Hello, World!\": #include <Platinum.h> #include <Modify/MenuLayer.h> void onMoreGames(MenuLayer* self) { FLAlertLayer::create( nullptr, \"Platinum SDK\", \"Hello, World!\", \"Close\", NULL )->show(); } __attribute__((constructor)) void load() { MenuLayer_Hooks::onMoreGames((void*) onMoreGames); } The same example on a regular SDK: #include <gd.h> #include <dobby.h> #include <dlfcn.h> #include <cocos2d.h> using namespace cocos2d; void (*onMoreGames_o) (MenuLayer*); void onMoreGames(MenuLayer* self) { FLALertLayer::create( nullptr, \"Platinum SDK\", \"Hello, World!\", \"Close\", NULL )->show(); } __attribute__((constructor)) void load() { DobbyHook( dlsym( dlopen(\"libcocos2dcpp.so\", RTLD_LAZY), \"_ZN9MenuLayer11onMoreGamesEPN7cocos2d8CCObjectE\" ), (void*) onMoreGames, (void**) &onMoreGames_o ); } Documentation Documentation with examples and tutorials can be found here . New to modding? Get help here (Russians only). Credits ItalianApkDownloader for Geometry Dash headers for Android HJfod for Cocos2D-x headers","title":"Home"},{"location":"#platinum-sdk","text":"Simple Geometry Dash modding SDK for Android","title":"Platinum SDK"},{"location":"#example-mod","text":"This example overwrites the response of the More Games button on the main menu to a dialog box with the text \"Hello, World!\": #include <Platinum.h> #include <Modify/MenuLayer.h> void onMoreGames(MenuLayer* self) { FLAlertLayer::create( nullptr, \"Platinum SDK\", \"Hello, World!\", \"Close\", NULL )->show(); } __attribute__((constructor)) void load() { MenuLayer_Hooks::onMoreGames((void*) onMoreGames); } The same example on a regular SDK: #include <gd.h> #include <dobby.h> #include <dlfcn.h> #include <cocos2d.h> using namespace cocos2d; void (*onMoreGames_o) (MenuLayer*); void onMoreGames(MenuLayer* self) { FLALertLayer::create( nullptr, \"Platinum SDK\", \"Hello, World!\", \"Close\", NULL )->show(); } __attribute__((constructor)) void load() { DobbyHook( dlsym( dlopen(\"libcocos2dcpp.so\", RTLD_LAZY), \"_ZN9MenuLayer11onMoreGamesEPN7cocos2d8CCObjectE\" ), (void*) onMoreGames, (void**) &onMoreGames_o ); }","title":"Example mod"},{"location":"#documentation","text":"Documentation with examples and tutorials can be found here .","title":"Documentation"},{"location":"#new-to-modding","text":"Get help here (Russians only).","title":"New to modding?"},{"location":"#credits","text":"ItalianApkDownloader for Geometry Dash headers for Android HJfod for Cocos2D-x headers","title":"Credits"},{"location":"docs/","text":"Documentation Detailed documentation, tutorials and examples. Installation Getting started Download release from GitHub or type git clone https://github.com/arseny-sh/PlatinumSDK.git ; Install Android NDK version r16b ; Install Python for tools (optional). Configuring You need to provide path to Android NDK in build.bat: set NDK=/path/to/ndk/ rem ^^^ change your android ndk path ^^^ It must end with \"/\" or \"\\\". Then enter the name of the mod in build.mk: MODNAME := template # mod name to build ... Coding Including libraries At the beginning of the mod, you need to include the library \"Platinum.h\": #include <Platinum.h> Hooking Modding on Android differs from modding on Windows in that on Android you need to provide the address of a function to replace it. For example MenuLayer::init refers to \"_ZN9MenuLayer4initEv\". This is called \"hooking\" and DobbyHook does this, but in the Platinum SDK hooking is simplified to the maximum. First, you have to include the hooks you need. They can be found in include/Modify : #include <Modify/classname.h> Replace \"classname\" with the class name you need. For example: #include <Modify/MenuLayer.h> (class names can be found in include/gd ). Overwriting Now define the required function. If it is \"init\", then the type is bool, otherwise it is \"void\": void onMoreGames(MenuLayer* self) { (functions can be found in include/gd too) Usually, function arguments should be \"classname* self\". In other situations see examples . Applying hooks After overwriting you need to apply your function. This is done using the functions from include/Modify folder: classname_Hooks::function(hook(replacement)); Replace \"classname\" with the class name, \"function\" with the function name to overwrite and \"replacement\" with your function. For example: MenuLayer_Hooks::onMoreGames(hook(onMoreGames)); Then put this code in Loader . For example: Loader { MenuLayer_Hooks::onMoreGames((void*) onMoreGames); } Building After you have written the code, you need to compile it. This is done with \"build.bat\" Windows Batch script. Double click it or run using cmd.exe to see the output. If everything went well, the errors shouldn't display. Compiled .so (shared object) library should appear in the folder \"out\". Injecting To inject the mod to Geometry Dash, you need its APK file (Android Package Kit). Download it here . Then install APK Editor and APKTool M on Android. Open APKTool M and navigate to the downloaded Geometry Dash APK file. Then click it and choose \"Quick edit\". Change package name to something else, for example: com.yourname.mods.yourmodname and click \"Save\". After a few seconds you should see a file named something like previousfilename_mod.apk . Now open APK Editor, click \"Select an Apk file\" and navigate to your APK file with changed package name. Click on \"Full Edit (RESOURCE RE-BUILD)\" and then \"Decode All Files (unstable)\". Then click \"Files\" -> \"lib\" -> \"armeabi-v7a\" and click on \"+\". Add your compiled libraries from computer (\"libdobby.so\" and \"libyourmodname.so\"). Then click \"Smali\" and after it loads navigate to root APK directory -> \"smali\" -> \"com\" -> \"robtopx\" -> \"geometryjump\". Click on \"GeometryJump.smali\". You will see something like this: .line 69 const-string v0, \"fmod\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V .line 70 const-string v0, \"cocos2dcpp\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V After that code, copy-paste one of these blocks. Replace .line num with .line 71 . Then replace const-string v0, \"libraryname\" with \"modname\" (without \"lib\" and \".so\") . You need to get something like this: .line 69 const-string v0, \"fmod\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V .line 70 const-string v0, \"cocos2dcpp\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V .line 71 const-string v0, \"modname\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V Click on \"Save\" and \"Build\". After a few seconds, click on \"Install\" and enjoy your first mod! Modding Now, let's mod Geometry Dash. Modding layers Layers are Cocos2D nodes with buttons, sprites and other objects. There are many layers in GD, for example: MenuLayer (main menu), CreatorLayer (online levels), GarageLayer (icons and colors), etc. You can find them in GD Headers. You can mod or fully overwrite them. To mod a layer, you need to define a bool init function and then it's arguments. You can find layer arguments in GD headers. If there aren't arguments, then write LayerName* self . For example: bool init(MenuLayer* self) { Then you need to save previous state of your layer in variable ret : auto ret = LayerName_Origins::init(self); For example: auto ret = MenuLayer_Origins::init(self); In the end of function, you need to return previous state: return ret; To fully overwrite a layer, you need to do the same as in modding a layer, but without saving previous state and returning it. Instead, you need to return true : return true; Modding callbacks Callbacks are what happens when a button is pressed. Usually, they start with on . For example: onMoreGames , onCreator , onOptions . Unlike modding layers, you can only overwrite callbacks, so it's easier. You need only to define your replacement: void onCallbackName(CCObject* pSender) { CCObject* pSender is an optional parameter if you want to know, which object calls the callback. Widgets soon","title":"Documentation"},{"location":"docs/#documentation","text":"Detailed documentation, tutorials and examples.","title":"Documentation"},{"location":"docs/#installation","text":"","title":"Installation"},{"location":"docs/#getting-started","text":"Download release from GitHub or type git clone https://github.com/arseny-sh/PlatinumSDK.git ; Install Android NDK version r16b ; Install Python for tools (optional).","title":"Getting started"},{"location":"docs/#configuring","text":"You need to provide path to Android NDK in build.bat: set NDK=/path/to/ndk/ rem ^^^ change your android ndk path ^^^ It must end with \"/\" or \"\\\". Then enter the name of the mod in build.mk: MODNAME := template # mod name to build ...","title":"Configuring"},{"location":"docs/#coding","text":"","title":"Coding"},{"location":"docs/#including-libraries","text":"At the beginning of the mod, you need to include the library \"Platinum.h\": #include <Platinum.h>","title":"Including libraries"},{"location":"docs/#hooking","text":"Modding on Android differs from modding on Windows in that on Android you need to provide the address of a function to replace it. For example MenuLayer::init refers to \"_ZN9MenuLayer4initEv\". This is called \"hooking\" and DobbyHook does this, but in the Platinum SDK hooking is simplified to the maximum. First, you have to include the hooks you need. They can be found in include/Modify : #include <Modify/classname.h> Replace \"classname\" with the class name you need. For example: #include <Modify/MenuLayer.h> (class names can be found in include/gd ).","title":"Hooking"},{"location":"docs/#overwriting","text":"Now define the required function. If it is \"init\", then the type is bool, otherwise it is \"void\": void onMoreGames(MenuLayer* self) { (functions can be found in include/gd too) Usually, function arguments should be \"classname* self\". In other situations see examples .","title":"Overwriting"},{"location":"docs/#applying-hooks","text":"After overwriting you need to apply your function. This is done using the functions from include/Modify folder: classname_Hooks::function(hook(replacement)); Replace \"classname\" with the class name, \"function\" with the function name to overwrite and \"replacement\" with your function. For example: MenuLayer_Hooks::onMoreGames(hook(onMoreGames)); Then put this code in Loader . For example: Loader { MenuLayer_Hooks::onMoreGames((void*) onMoreGames); }","title":"Applying hooks"},{"location":"docs/#building","text":"After you have written the code, you need to compile it. This is done with \"build.bat\" Windows Batch script. Double click it or run using cmd.exe to see the output. If everything went well, the errors shouldn't display. Compiled .so (shared object) library should appear in the folder \"out\".","title":"Building"},{"location":"docs/#injecting","text":"To inject the mod to Geometry Dash, you need its APK file (Android Package Kit). Download it here . Then install APK Editor and APKTool M on Android. Open APKTool M and navigate to the downloaded Geometry Dash APK file. Then click it and choose \"Quick edit\". Change package name to something else, for example: com.yourname.mods.yourmodname and click \"Save\". After a few seconds you should see a file named something like previousfilename_mod.apk . Now open APK Editor, click \"Select an Apk file\" and navigate to your APK file with changed package name. Click on \"Full Edit (RESOURCE RE-BUILD)\" and then \"Decode All Files (unstable)\". Then click \"Files\" -> \"lib\" -> \"armeabi-v7a\" and click on \"+\". Add your compiled libraries from computer (\"libdobby.so\" and \"libyourmodname.so\"). Then click \"Smali\" and after it loads navigate to root APK directory -> \"smali\" -> \"com\" -> \"robtopx\" -> \"geometryjump\". Click on \"GeometryJump.smali\". You will see something like this: .line 69 const-string v0, \"fmod\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V .line 70 const-string v0, \"cocos2dcpp\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V After that code, copy-paste one of these blocks. Replace .line num with .line 71 . Then replace const-string v0, \"libraryname\" with \"modname\" (without \"lib\" and \".so\") . You need to get something like this: .line 69 const-string v0, \"fmod\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V .line 70 const-string v0, \"cocos2dcpp\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V .line 71 const-string v0, \"modname\" invoke-static {v0}, Lkava/lang/System;->loadLibrary(Ljava/lang/String;)V Click on \"Save\" and \"Build\". After a few seconds, click on \"Install\" and enjoy your first mod!","title":"Injecting"},{"location":"docs/#modding","text":"Now, let's mod Geometry Dash.","title":"Modding"},{"location":"docs/#modding-layers","text":"Layers are Cocos2D nodes with buttons, sprites and other objects. There are many layers in GD, for example: MenuLayer (main menu), CreatorLayer (online levels), GarageLayer (icons and colors), etc. You can find them in GD Headers. You can mod or fully overwrite them. To mod a layer, you need to define a bool init function and then it's arguments. You can find layer arguments in GD headers. If there aren't arguments, then write LayerName* self . For example: bool init(MenuLayer* self) { Then you need to save previous state of your layer in variable ret : auto ret = LayerName_Origins::init(self); For example: auto ret = MenuLayer_Origins::init(self); In the end of function, you need to return previous state: return ret; To fully overwrite a layer, you need to do the same as in modding a layer, but without saving previous state and returning it. Instead, you need to return true : return true;","title":"Modding layers"},{"location":"docs/#modding-callbacks","text":"Callbacks are what happens when a button is pressed. Usually, they start with on . For example: onMoreGames , onCreator , onOptions . Unlike modding layers, you can only overwrite callbacks, so it's easier. You need only to define your replacement: void onCallbackName(CCObject* pSender) { CCObject* pSender is an optional parameter if you want to know, which object calls the callback.","title":"Modding callbacks"},{"location":"docs/#widgets","text":"soon","title":"Widgets"},{"location":"ex/","text":"Examples Creating alert Alert is the easiest way to check if the mod is working. To create an alert, call the function Alert with arguments: (const char*) title - alert title; (std::string) text - alert text; (const char*) btn1Text - text of the first button (set to empty if you won't use); (const char*) btn2Text - text of the second button (set to empty if you won't use); Alert( \"Platinum SDK\", \"Hello, World!\", \"Close\", empty )->show(); Modifying MenuLayer::init MenuLayer::init is a function what refers to Geometry Dash main menu. In this example we are saving previous state of MenuLayer::init and overwriting it. Function type should be bool , because it's init : #include <Platinum.h> #include <Modify/MenuLayer.h> bool init(MenuLayer* self) { auto size = getScreenSize(); // saving previous state // MenuLayer_Origins is from Modify/MenuLayer.h auto ret = MenuLayer_Origins::init(self); // creating a sprite with an image from GJ_GameSheet03 auto sprite = Frame(\"GJ_updateBtn_001.png\"); // creating a button auto button = CCMenuItemSpriteExtra::create( sprite, self, MenuLayer::onDaily ); // setting button scale to 1x button->setScale(1.0); // creating a menu (that's how cocos works) auto menu = Menu(); // adding button to menu // second argument is Z-pos (layer on the screen) menu->addChild(button, 100); // setting menu (button) position menu->setPosition({ size.width / 20, size.height / 10 * 7 }); // adding menu to MenuLayer self->addChild(menu, 100); // returning previous state with our button return ret; } Loader { MenuLayer_Hooks::init(hook(init)); } Creating a label In this example we are creating a label in MenuLayer. #include <Platinum.h> #include <Modify/MenuLayer.h> bool init(MenuLayer* self) { // getting window size auto size = getScreenSize(); // saving previous state // MenuLayer_Origins is from Modify/MenuLayer.h auto ret = MenuLayer_Origins::init(self); // creating a label with text \"Hello, World!\" and chat font (like Arial) // you can also use bigFont and goldFont auto label = Label(\"Hello, World!\", chatFont); // configuring the label label->setAlignment(tcenter); label->setColor({255, 255, 255}); label->setPosition({size.width / 2, size.height - 15}); label->setScale(0.7); // applying changes self->addChild(label); // returning previous state with our label return ret; } Loader { MenuLayer_Hooks::init(hook(init)); } Creating a custom hook Custom hooks can be useful then there aren't any built-in hooks for your function, e.g Cocos function. In this example we are: creating CCLabelBMFont origins; overwriting CCLabelBMFont to return \"RobTop\" every time; hooking it. #include <Platinum.h> // creating custom origins namespace CCLabelBMFont_Origins { CCLabelBMFont* (*create)(const char* str, const char* fntFile); // get function arguments here: https://hjfod.github.io/cocos-headers/ } // creating custom hooks namespace CCLabelBMFont_Hooks { void create(void* rep) { // now we need to get CCLabelBMFont address. // you can find all addresses in tools/functions.csv // open it with any CSV viewer, e.g. https://csviewer.com/ // then find it and paste in the first argument CustomHook( \"_ZN7cocos2d13CCLabelBMFont6createEPKcS2_\", // you can find multiple addresses rep, // replacement CCLabelBMFont_Origins::create // origin ); } } // overwriting CCLabelBMFont* create(const char* str, const char* fntFile) { // get function arguments here: https://hjfod.github.io/cocos-headers/ return CCLabelBMFont_Origins::create(\"RobTop\", fntFile); // always returning \"RobTop\" } Loader { CCLabelBMFont_Hooks::create(hook(create)); }","title":"Examples"},{"location":"ex/#examples","text":"","title":"Examples"},{"location":"ex/#creating-alert","text":"Alert is the easiest way to check if the mod is working. To create an alert, call the function Alert with arguments: (const char*) title - alert title; (std::string) text - alert text; (const char*) btn1Text - text of the first button (set to empty if you won't use); (const char*) btn2Text - text of the second button (set to empty if you won't use); Alert( \"Platinum SDK\", \"Hello, World!\", \"Close\", empty )->show();","title":"Creating alert"},{"location":"ex/#modifying-menulayerinit","text":"MenuLayer::init is a function what refers to Geometry Dash main menu. In this example we are saving previous state of MenuLayer::init and overwriting it. Function type should be bool , because it's init : #include <Platinum.h> #include <Modify/MenuLayer.h> bool init(MenuLayer* self) { auto size = getScreenSize(); // saving previous state // MenuLayer_Origins is from Modify/MenuLayer.h auto ret = MenuLayer_Origins::init(self); // creating a sprite with an image from GJ_GameSheet03 auto sprite = Frame(\"GJ_updateBtn_001.png\"); // creating a button auto button = CCMenuItemSpriteExtra::create( sprite, self, MenuLayer::onDaily ); // setting button scale to 1x button->setScale(1.0); // creating a menu (that's how cocos works) auto menu = Menu(); // adding button to menu // second argument is Z-pos (layer on the screen) menu->addChild(button, 100); // setting menu (button) position menu->setPosition({ size.width / 20, size.height / 10 * 7 }); // adding menu to MenuLayer self->addChild(menu, 100); // returning previous state with our button return ret; } Loader { MenuLayer_Hooks::init(hook(init)); }","title":"Modifying MenuLayer::init"},{"location":"ex/#creating-a-label","text":"In this example we are creating a label in MenuLayer. #include <Platinum.h> #include <Modify/MenuLayer.h> bool init(MenuLayer* self) { // getting window size auto size = getScreenSize(); // saving previous state // MenuLayer_Origins is from Modify/MenuLayer.h auto ret = MenuLayer_Origins::init(self); // creating a label with text \"Hello, World!\" and chat font (like Arial) // you can also use bigFont and goldFont auto label = Label(\"Hello, World!\", chatFont); // configuring the label label->setAlignment(tcenter); label->setColor({255, 255, 255}); label->setPosition({size.width / 2, size.height - 15}); label->setScale(0.7); // applying changes self->addChild(label); // returning previous state with our label return ret; } Loader { MenuLayer_Hooks::init(hook(init)); }","title":"Creating a label"},{"location":"ex/#creating-a-custom-hook","text":"Custom hooks can be useful then there aren't any built-in hooks for your function, e.g Cocos function. In this example we are: creating CCLabelBMFont origins; overwriting CCLabelBMFont to return \"RobTop\" every time; hooking it. #include <Platinum.h> // creating custom origins namespace CCLabelBMFont_Origins { CCLabelBMFont* (*create)(const char* str, const char* fntFile); // get function arguments here: https://hjfod.github.io/cocos-headers/ } // creating custom hooks namespace CCLabelBMFont_Hooks { void create(void* rep) { // now we need to get CCLabelBMFont address. // you can find all addresses in tools/functions.csv // open it with any CSV viewer, e.g. https://csviewer.com/ // then find it and paste in the first argument CustomHook( \"_ZN7cocos2d13CCLabelBMFont6createEPKcS2_\", // you can find multiple addresses rep, // replacement CCLabelBMFont_Origins::create // origin ); } } // overwriting CCLabelBMFont* create(const char* str, const char* fntFile) { // get function arguments here: https://hjfod.github.io/cocos-headers/ return CCLabelBMFont_Origins::create(\"RobTop\", fntFile); // always returning \"RobTop\" } Loader { CCLabelBMFont_Hooks::create(hook(create)); }","title":"Creating a custom hook"}]}